<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>T-PACHIN Â· é»å¡ç‰‡æˆ–é€²å…¥éƒ½é–‹å­æ©Ÿç¨®</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Russo+One&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
<style>
    .tech-gradient { background: linear-gradient(180deg, #000814 0%, #001233 50%, #001845 100%); }
    .tech-border { border: 1px solid rgba(0, 148, 255, 0.4); }
    .nav-item { position: relative; }
    .nav-badge {
        position: absolute; top: 0px; right: 0px; width: 10px; height: 10px;
        background-color: #ff3b3b; border-radius: 50%; border: 2px solid #001a33;
        box-shadow: 0 0 8px #ff0000; display: none; z-index: 25;
    }
    .nav-item.current-page .nav-badge { border-color: #0066cc; }
</style>
    <style>
        .tech-gradient { background: linear-gradient(180deg, #000814 0%, #001233 50%, #001845 100%); }
        .tech-border { border: 1px solid rgba(0, 148, 255, 0.4); }
        .tech-tab-active {
            background: linear-gradient(90deg, #0066cc 0%, #0099ff 100%);
            border: 1px solid #00ccff;
            box-shadow: 0 0 8px rgba(0, 204, 255, 0.6);
        }
        .tab-btn {
            flex: 0 0 auto; white-space: nowrap; transition: all 0.2s ease; cursor: pointer;
            position: relative; outline: none;
        }
        .tab-btn:hover { background: rgba(0, 153, 255, 0.3) !important; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0, 153, 255, 0.4); }
        .tab-btn:active { transform: scale(0.92) !important; background: rgba(0, 204, 255, 0.6) !important; transition: transform 0.08s, background 0.08s; }
        .tab-btn:focus-visible { outline: 3px solid #00ccff; outline-offset: 2px; }
        
        .game-card-bg {
            background: linear-gradient(180deg, rgba(0, 30, 60, 0.8) 0%, rgba(0, 15, 30, 0.9) 100%);
            transition: all 0.25s ease; cursor: pointer; position: relative; outline: none;
            border: 1px solid rgba(0, 148, 255, 0.4);
            border-radius: 0.75rem;
            overflow: hidden;
        }
        .game-card-bg:hover { transform: translateY(-4px); box-shadow: 0 8px 20px rgba(0, 153, 255, 0.5); border-color: #00ccff; }
        .game-card-bg:active { transform: scale(0.96) translateY(-2px); box-shadow: 0 4px 15px rgba(0, 204, 255, 0.7); transition: transform 0.08s, box-shadow 0.08s; }
        
        .favorite-btn {
            transition: all 0.2s ease; cursor: pointer; background: rgba(0, 40, 70, 0.6);
            border: 1px solid rgba(0, 148, 255, 0.4); border-radius: 9999px; width: 1.75rem; height: 1.75rem;
            display: flex; align-items: center; justify-content: center; color: #9ca3af; outline: none;
        }
        .favorite-btn:hover { background: rgba(220, 38, 38, 0.25); color: #ef4444; border-color: #ef4444; transform: scale(1.15); box-shadow: 0 0 18px rgba(239, 68, 68, 0.5); }
        .favorite-btn:active { transform: scale(0.82); background: rgba(220, 38, 38, 0.5); color: #ffffff; }
        .favorite-btn.active { color: #ef4444; background: rgba(220, 38, 38, 0.25); border-color: #ef4444; box-shadow: 0 0 15px #ef4444; animation: heartPop 0.3s ease; }
        @keyframes heartPop { 0% { transform: scale(1); } 50% { transform: scale(1.3); } 100% { transform: scale(1); } }
        
        .enter-btn {
            transition: all 0.2s ease; cursor: pointer; background: rgba(0, 102, 204, 0.2);
            border: 1px solid rgba(0, 148, 255, 0.4); border-radius: 0.375rem; color: #0099ff;
            font-size: 0.75rem; padding: 0.25rem 0; flex: 1; outline: none; font-weight: 500;
        }
        .enter-btn:hover { background: linear-gradient(90deg, #0066cc, #0099ff); color: white; border-color: #80e4ff; box-shadow: 0 0 18px #00ccff; transform: translateY(-2px); }
        .enter-btn:active { transform: scale(0.9); background: #0066cc; }
        
        .new-machine-badge { position: absolute; top: 8px; right: 8px; z-index: 10; max-width: 100px; }
        .filter-drawer {
            position: fixed; top: 0; right: -100%; width: 85%; max-width: 340px; height: 100vh;
            background: linear-gradient(165deg, #001a33 0%, #000a1a 100%);
            border-left: 2px solid #0099ff; box-shadow: -5px 0 30px rgba(0, 153, 255, 0.5);
            z-index: 10000; transition: right 0.3s ease; overflow-y: auto; padding: 1.5rem;
        }
        .filter-drawer.open { right: 0; }
        .drawer-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.7); backdrop-filter: blur(3px); z-index: 9999; display: none; }
        .drawer-overlay.open { display: block; }
        
        .filter-chip { background: rgba(0, 40, 70, 0.8); border: 1px solid #0099ff60; border-radius: 9999px; padding: 0.4rem 1.2rem; font-size: 0.75rem; color: #cce6ff; transition: all 0.2s ease; cursor: pointer; display: inline-block; user-select: none; }
        .filter-chip:hover { background: #0077cc; color: white; border-color: #80e4ff; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0, 153, 255, 0.4); }
        .filter-chip.selected { background: #0099ff; color: white; border-color: white; font-weight: 500; box-shadow: 0 0 15px #00ccff; }
        
        .bottom-nav {
            background: #001a33; border-top: 2px solid #0066cc; box-shadow: 0 -2px 10px rgba(0, 102, 204, 0.3);
            width: 100%; max-width: 448px; padding: 0.75rem 1.5rem; position: fixed; bottom: 0; left: 50%; transform: translateX(-50%); z-index: 50;
        }
        .nav-item { display: flex; flex-direction: column; align-items: center; color: #4b9cd3; transition: all 0.2s ease; border-radius: 8px; padding: 0.25rem 0.5rem; text-decoration: none; outline: none; cursor: pointer; }
        .nav-item:hover { color: #80e4ff; transform: translateY(-3px); text-shadow: 0 0 8px #00ccff; background: rgba(0, 153, 255, 0.2); }
        .nav-item:active { transform: scale(0.9) translateY(-1px); color: white; background: rgba(0, 204, 255, 0.4); }
        .nav-item:focus-visible { outline: 3px solid #00ccff; outline-offset: 2px; }
        .nav-item.current-page { color: white; background: linear-gradient(90deg, #0066cc 0%, #0099ff 100%); border: 1px solid #80e4ff; box-shadow: 0 0 15px #00ccff; transform: scale(1.02); }
        
        .banner-area { width: 100%; height: 120px; background: linear-gradient(145deg, #002244, #001133); border: 1px solid #0099ff60; border-radius: 12px; overflow: hidden; position: relative; touch-action: pan-y pinch-zoom; }
        .banner-slider { display: flex; height: 100%; width: 100%; transition: transform 0.3s ease-in-out; cursor: grab; }
        .banner-slider:active { cursor: grabbing; }
        .banner-slide { flex: 0 0 100%; height: 100%; position: relative; user-select: none; pointer-events: none; }
        .banner-slide img { width: 100%; height: 100%; object-fit: cover; pointer-events: none; }
        .banner-dots { position: absolute; bottom: 8px; left: 50%; transform: translateX(-50%); display: flex; gap: 6px; z-index: 20; pointer-events: auto; }
        .banner-dot { width: 8px; height: 8px; border-radius: 50%; background: rgba(255, 255, 255, 0.5); cursor: pointer; transition: all 0.2s; border: 1px solid #0099ff60; }
        .banner-dot:hover { background: #0099ff; transform: scale(1.4); box-shadow: 0 0 10px #00ccff; }
        .banner-dot:active { transform: scale(0.9); }
        .banner-dot.active { background: #0099ff; transform: scale(1.2); box-shadow: 0 0 12px #00ccff; border-color: white; }
        .banner-touch-area { position: absolute; top: 0; left: 0; right: 0; bottom: 0; z-index: 15; background: transparent; touch-action: none; }

        .token-badge { background: linear-gradient(135deg, #fbbf24, #d97706); color: #000; font-weight: bold; padding: 0.125rem 0.5rem; border-radius: 9999px; font-size: 0.7rem; border: 1px solid #f59e0b; box-shadow: 0 0 8px rgba(245, 158, 11, 0.5); }
        .popular-badge { position: absolute; top: 8px; left: 8px; background: linear-gradient(135deg, #ef4444, #dc2626); color: white; font-size: 0.65rem; font-weight: bold; padding: 2px 8px; border-radius: 20px; z-index: 10; border: 1px solid #fca5a5; box-shadow: 0 0 10px #ef4444; }

        .tab-container { position: relative; width: 100%; overflow: hidden; touch-action: pan-y pinch-zoom; }
        .tabs-wrapper { display: flex; gap: 8px; transition: none; cursor: grab; padding: 0 4px; overflow-x: auto; scrollbar-width: none; -ms-overflow-style: none; scroll-behavior: smooth; -webkit-overflow-scrolling: touch; touch-action: pan-x pan-y; }
        .tabs-wrapper::-webkit-scrollbar { display: none; }
        .tabs-wrapper:active { cursor: grabbing; }
        .tab-indicator { position: absolute; bottom: -4px; left: 0; height: 3px; background: linear-gradient(90deg, #0099ff, #00ccff); border-radius: 3px; transition: left 0.2s ease-in-out, width 0.2s ease-in-out; box-shadow: 0 0 8px #00ccff; z-index: 5; pointer-events: none; }

        .back-to-top {
            position: fixed; bottom: 90px; right: 20px; width: 48px; height: 48px;
            background: linear-gradient(145deg, #0066cc, #0099ff); border: 2px solid #80e4ff; border-radius: 50%;
            display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem;
            cursor: pointer; z-index: 100; opacity: 0; visibility: hidden; transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 4px 15px rgba(0, 204, 255, 0.5); transform: scale(0.8);
        }
        .back-to-top.show { opacity: 1; visibility: visible; transform: scale(1); animation: pulse 2s infinite; }
        .back-to-top:hover { transform: scale(1.15) translateY(-5px); background: linear-gradient(145deg, #0077dd, #00aaff); box-shadow: 0 8px 25px rgba(0, 204, 255, 0.8); border-color: white; }
        .back-to-top:active { transform: scale(0.9); }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(0, 204, 255, 0.7); } 70% { box-shadow: 0 0 0 15px rgba(0, 204, 255, 0); } 100% { box-shadow: 0 0 0 0 rgba(0, 204, 255, 0); } }

        .clickable { cursor: pointer; transition: all 0.1s ease; }
        .clickable:active { transform: scale(0.95); }
        .hover-glow:hover { text-shadow: 0 0 8px #00ccff; }

        .main-content { flex: 1; padding-bottom: 80px; }
        .max-w-md { padding-bottom: 0; min-height: 100vh; position: relative; }
        
        .category-title {
            color: #0099ff;
            font-weight: 500;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            border-bottom: 1px solid rgba(0, 153, 255, 0.3);
            padding-bottom: 0.5rem;
        }
        .category-section {
            margin-bottom: 2rem;
        }

        .logo {
            display: flex; align-items: center; gap: 8px; font-family: 'Orbitron', 'Russo One', sans-serif;
            white-space: nowrap; cursor: pointer; transition: transform 0.2s ease; text-decoration: none;
            color: inherit; background: transparent; border: none; backdrop-filter: none; padding: 0;
            margin: 0; -webkit-tap-highlight-color: transparent;
        }
        .logo:active { transform: scale(0.97); }
        .logo-icon {
            width: 40px; height: 40px; background: linear-gradient(135deg, #000, #111, #222);
            border-radius: 8px; position: relative; display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 15px rgba(0, 224, 255, 0.5), inset 0 0 10px rgba(255, 215, 0, 0.2);
            overflow: hidden; border: 2px solid #ffd700; flex-shrink: 0;
        }
        .logo-icon::before {
            content: ''; position: absolute; width: 100%; height: 100%;
            background: conic-gradient(from 0deg, transparent, #00e0ff, #c90a0a, #ffd700, transparent);
            animation: logoRotate 4s linear infinite;
        }
        .logo-icon::after { content: ''; position: absolute; width: 30px; height: 30px; background: #000; border-radius: 5px; }
        @keyframes logoRotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .logo-icon-inner {
            position: relative; z-index: 2; font-size: 16px; font-weight: 900;
            background: linear-gradient(45deg, #ffdf00, #ffec8b, #00e0ff);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
            letter-spacing: 0.5px; font-family: 'Orbitron', sans-serif; text-shadow: 0 0 6px rgba(255, 223, 0, 0.5);
        }
        .logo-text { display: flex; flex-direction: column; line-height: 1.1; }
        .logo-main {
            font-size: 18px; font-weight: 900;
            background: linear-gradient(45deg, #ffdf00, #ffd700, #00e0ff);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
            background-size: 200% auto; animation: textShine 3s ease-in-out infinite alternate;
            letter-spacing: 1px; text-transform: uppercase; text-shadow: 0 0 8px rgba(255, 215, 0, 0.3);
            white-space: nowrap;
        }
        .logo-sub {
            font-size: 9px; color: #00e0ff; font-weight: 500; letter-spacing: 0.8px; opacity: 0.9;
            text-shadow: 0 0 4px rgba(0, 224, 255, 0.5); white-space: nowrap;
        }
        .logo:focus-visible { outline: none; }

        .slider-container {
            position: relative; width: 100%; overflow: hidden; touch-action: pan-y pinch-zoom;
            margin-bottom: 1rem;
        }
        .slider-wrapper {
            display: flex; gap: 16px; overflow-x: auto; scrollbar-width: none; -ms-overflow-style: none;
            scroll-behavior: smooth; -webkit-overflow-scrolling: touch; padding: 4px 0 12px 0; cursor: grab;
        }
        .slider-wrapper::-webkit-scrollbar { display: none; }
        .slider-wrapper:active { cursor: grabbing; }
        .slider-item {
            flex: 0 0 auto; width: calc(50% - 8px); max-width: 180px;
        }
        .slider-indicator {
            display: flex; justify-content: center; gap: 8px; margin-top: 8px;
        }
        .slider-dot {
            width: 8px; height: 8px; border-radius: 50%; background: rgba(0, 153, 255, 0.3);
            border: 1px solid rgba(0, 153, 255, 0.5); transition: all 0.2s; cursor: pointer;
        }
        .slider-dot.active {
            background: #0099ff; transform: scale(1.3); box-shadow: 0 0 10px #00ccff; border-color: white;
        }
        .slider-arrow {
            position: absolute; top: 50%; transform: translateY(-50%); width: 30px; height: 30px;
            background: rgba(0, 40, 70, 0.8); border: 1px solid #0099ff; border-radius: 50%;
            display: flex; align-items: center; justify-content: center; color: #0099ff;
            cursor: pointer; z-index: 10; transition: all 0.2s; backdrop-filter: blur(4px);
        }
        .slider-arrow:hover { background: #0099ff; color: white; transform: translateY(-50%) scale(1.1); box-shadow: 0 0 15px #00ccff; }
        .slider-arrow:active { transform: translateY(-50%) scale(0.9); }
        .slider-arrow.left { left: 5px; }
        .slider-arrow.right { right: 5px; }
        .slider-arrow.disabled { opacity: 0.3; pointer-events: none; }

        .vertical-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-top: 0.5rem;
        }
        .vertical-grid .game-card-bg {
            width: 100%;
        }

        .machine-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.85); backdrop-filter: blur(6px); z-index: 20000;
            display: flex; align-items: center; justify-content: center; opacity: 0;
            visibility: hidden; transition: 0.25s; padding: 1rem;
        }
        .machine-modal.show { opacity: 1; visibility: visible; }
        .modal-content {
            background: linear-gradient(165deg, #001e3c, #00102a); border: 2px solid #0099ff;
            border-radius: 2rem; max-width: 480px; width: 100%; max-height: 80vh; overflow-y: auto;
            box-shadow: 0 20px 40px rgba(0, 153, 255, 0.5); padding: 1.5rem 1rem;
            transform: scale(0.9); transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        .machine-modal.show .modal-content { transform: scale(1); }
        .modal-header {
            display: flex; align-items: center; justify-content: space-between;
            border-bottom: 1px solid #0099ff60; padding-bottom: 0.75rem; margin-bottom: 1.2rem;
        }
        .modal-header h2 { font-size: 1.7rem; font-weight: 700; color: #ffd966; text-shadow: 0 0 8px #fbbf24; }
        .modal-close {
            background: rgba(0,102,204,0.3); border: 1px solid #0099ff; color: white; width: 36px; height: 36px;
            border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.3rem;
            cursor: pointer; transition: 0.2s;
        }
        .modal-close:hover { background: #ff3b3b; border-color: white; transform: scale(1.1); box-shadow: 0 0 15px red; }
        
        .submachine-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 0.8rem; }
        .sub-item-card {
            background: linear-gradient(145deg, rgba(0,40,70,0.9), rgba(0,20,45,0.95));
            border: 1px solid rgba(0, 153, 255, 0.5); border-radius: 1rem; padding: 0.7rem 0.5rem;
            display: flex; flex-direction: column; box-shadow: 0 0 10px rgba(0,153,255,0.3); transition: 0.15s;
        }
        .sub-item-card:hover { transform: translateY(-2px); border-color: #00ccff; box-shadow: 0 0 18px #0099ff; }
        .sub-name-ratio { display: flex; align-items: center; justify-content: space-between; margin-bottom: 0.5rem; }
        .sub-name {
            font-weight: 600; color: #b3e0ff; font-size: 1rem; white-space: nowrap;
            overflow: hidden; text-overflow: ellipsis; max-width: 80px;
        }
        .sub-ratio {
            background: #001c3a; padding: 0.2rem 0.7rem; border-radius: 30px; border: 1px solid #fbbf24;
            color: #ffd966; font-weight: 500; font-size: 0.7rem; box-shadow: 0 0 6px #fbbf24;
        }
        .sub-actions { display: flex; gap: 6px; align-items: center; margin-top: 0.3rem; }
        .sub-actions .enter-btn { font-size: 0.7rem; padding: 0.2rem 0; flex: 1; }
        .sub-actions .favorite-btn { width: 1.8rem; height: 1.8rem; }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-900 to-blue-950 text-white">

<!-- ç¯©é¸å´æ‹‰æ¬„é®ç½© -->
<div id="drawerOverlay" class="drawer-overlay"></div>

<!-- ç¯©é¸å´æ‹‰æ¬„ -->
<div id="filterDrawer" class="filter-drawer scrollbar-thin">
    <div class="flex justify-between items-center mb-6">
        <h3 class="text-primary text-lg font-bold flex items-center gap-2"><i class="fa fa-sliders text-secondary"></i> é€²éšç¯©é¸</h3>
        <button id="closeDrawer" class="text-gray-400 hover:text-primary text-2xl"><i class="fa fa-times-circle"></i></button>
    </div>
    <div class="mb-6">
        <div class="text-secondary text-sm mb-3 flex items-center gap-2"><i class="fa fa-percent"></i> ä»£å¹£</div>
        <div class="flex flex-wrap gap-2">
            <span class="filter-chip" data-type="ratio" data-value="2">1æš=2</span>
            <span class="filter-chip" data-type="ratio" data-value="1">1æš=1</span>
            <span class="filter-chip" data-type="ratio" data-value="0.5">1æš=0.5</span>
            <span class="filter-chip" data-type="ratio" data-value="0.33">1æš=0.33</span>
            <span class="filter-chip" data-type="ratio" data-value="0.25">1æš=0.25</span>
            <span class="filter-chip" data-type="ratio" data-value="0.2">1æš=0.2</span>
            <span class="filter-chip" data-type="ratio" data-value="0.17">1æš=0.17</span>
            <span class="filter-chip" data-type="ratio" data-value="0.1">1æš=0.1</span>
        </div>
    </div>
    <div class="mb-6">
        <div class="text-secondary text-sm mb-3 flex items-center gap-2"><i class="fa fa-cube"></i> æ©Ÿç¨®</div>
        <div class="flex flex-wrap gap-2">
            <span class="filter-chip" data-type="model">4è™Ÿæ©Ÿ</span>
            <span class="filter-chip" data-type="model">5è™Ÿæ©Ÿ</span>
            <span class="filter-chip" data-type="model">6è™Ÿæ©Ÿ</span>
        </div>
    </div>
    <div class="mb-8">
        <div class="text-secondary text-sm mb-3 flex items-center gap-2"><i class="fa fa-building"></i> æ©Ÿå°å» å•†</div>
        <div class="grid grid-cols-2 gap-2">
            <span class="filter-chip text-center" data-type="vendor">ELECO</span>
            <span class="filter-chip text-center" data-type="vendor">ENTER RISE</span>
            <span class="filter-chip text-center" data-type="vendor">Olympia</span>
            <span class="filter-chip text-center" data-type="vendor">åŒ—é›»å­</span>
            <span class="filter-chip text-center" data-type="vendor">Sammy</span>
            <span class="filter-chip text-center" data-type="vendor">Daito</span>
            <span class="filter-chip text-center" data-type="vendor">Rodeo</span>
            <span class="filter-chip text-center" data-type="vendor">bellco</span>
            <span class="filter-chip text-center" data-type="vendor">Universal</span>
            <span class="filter-chip text-center" data-type="vendor">Bros</span>
            <span class="filter-chip text-center" data-type="vendor">YAMASA</span>
            <span class="filter-chip text-center" data-type="vendor">Mizuho</span>
        </div>
    </div>
    <div class="flex gap-3 mt-4">
        <button id="resetFilters" class="flex-1 py-3 border border-primary rounded-xl text-primary hover:bg-primary/20 transition hover:scale-105 active:scale-95 focus-visible:outline-3 focus-visible:outline-blue-400">é‡ç½®ç¯©é¸</button>
        <button id="applyFilters" class="flex-1 py-3 bg-primary rounded-xl text-white font-bold hover:bg-blue-600 transition hover:scale-105 active:scale-95 focus-visible:outline-3 focus-visible:outline-blue-400">å¥—ç”¨</button>
    </div>
    <div class="mt-3">
        <button id="clearAllFilters" class="w-full py-2 text-sm text-gray-400 border border-gray-700 rounded-xl hover:text-primary hover:border-primary transition hover:scale-105 active:scale-95">
            <i class="fa fa-times-circle mr-1"></i> æ¸…é™¤å…¨éƒ¨æ¢ä»¶
        </button>
    </div>
</div>

<!-- ä¸»å…§å®¹ -->
<div class="max-w-md mx-auto tech-gradient min-h-screen flex flex-col relative">
    <header class="px-4 py-3 bg-dark-200/90 tech-border">
        <div class="flex items-center justify-between">
            <a href="index.html" class="logo" id="logoHomeBtn">
                <div class="logo-icon"><div class="logo-icon-inner">TP</div></div>
                <div class="logo-text"><div class="logo-main">T-PACHIN</div><div class="logo-sub">CYBER PACHINKO SYSTEM</div></div>
            </a>
            <div class="text-right flex flex-col items-end">
                <a href="about.html" class="text-xs text-white clickable hover-glow" id="nicknameBtn">å¤«äººæœƒç”Ÿæ°£</a>
                <a href="about.html" class="font-bold text-lg text-amber-400 clickable hover-glow" id="tokenBtn">5.280</a>
            </div>
        </div>
    </header>

    <!-- Banner è¼ªæ’­å€ -->
    <div class="px-4 mt-3">
        <div class="banner-area" id="bannerArea">
            <div class="banner-slider" id="bannerSlider">
                <div class="banner-slide"><img src="https://static.wixstatic.com/media/d5e540_e351cf64c0eb4ea18ed0bf5aa982a3f4~mv2.jpg" alt="ä¿ƒéŠ·1"></div>
                <div class="banner-slide"><img src="https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png" alt="ä¿ƒéŠ·2"></div>
                <div class="banner-slide"><img src="https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png" alt="ä¿ƒéŠ·3"></div>
            </div>
            <div class="banner-touch-area" id="bannerTouchArea"></div>
            <div class="banner-dots" id="bannerDots"><span class="banner-dot active" data-slide="0"></span><span class="banner-dot" data-slide="1"></span><span class="banner-dot" data-slide="2"></span></div>
        </div>
    </div>

    <!-- è·‘é¦¬ç‡ˆ -->
    <div class="px-4 py-1 bg-dark-200/80 tech-border"><marquee class="text-secondary text-xs py-1" scrollamount="5">ğŸ® æ˜¥å­£äººæ°£æ©Ÿå°å¤§è³ | ç”²è³€å¿æ³•å¸–ç³»åˆ—å…¨ç·šç†±è³£ | ä»£å¹£å„ªæƒ å¯¦æ–½ä¸­ ğŸ®</marquee></div>

    <!-- ä¸»è¦åˆ†é¡æ¨™ç±¤ + ç¯©é¸æŒ‰éˆ• -->
    <div class="px-4 py-3 flex items-center justify-between">
        <div class="flex-1 mr-2 relative tab-container" id="tabContainer">
            <div class="tabs-wrapper" id="tabsWrapper" style="touch-action: pan-x pan-y; -webkit-overflow-scrolling: touch;">
                <button class="tab-btn tech-tab-active px-5 py-2 rounded-full text-sm font-medium" data-tab="å…¨éƒ¨">å…¨éƒ¨</button>
                <button class="tab-btn bg-dark-200 tech-border px-5 py-2 rounded-full text-sm font-medium" data-tab="æ–°æ©Ÿ">æ–°æ©Ÿ</button>
                <button class="tab-btn bg-dark-200 tech-border px-5 py-2 rounded-full text-sm font-medium" data-tab="äººæ°£æ©Ÿå°">äººæ°£æ©Ÿå°</button>
                <button class="tab-btn bg-dark-200 tech-border px-5 py-2 rounded-full text-sm font-medium" data-tab="4è™Ÿæ©Ÿ">4è™Ÿæ©Ÿ</button>
                <button class="tab-btn bg-dark-200 tech-border px-5 py-2 rounded-full text-sm font-medium" data-tab="5è™Ÿæ©Ÿ">5è™Ÿæ©Ÿ</button>
                <button class="tab-btn bg-dark-200 tech-border px-5 py-2 rounded-full text-sm font-medium" data-tab="6è™Ÿæ©Ÿ">6è™Ÿæ©Ÿ</button>
            </div>
            <div class="tab-indicator" id="tabIndicator"></div>
        </div>
        <div class="flex items-center gap-2 flex-shrink-0">
            <button id="openDrawerBtn" class="bg-gradient-to-r from-blue-700 to-blue-500 border border-primary px-4 py-2 rounded-full text-sm font-medium flex items-center gap-1 shadow-lg"><i class="fa fa-sliders"></i> ç¯©é¸</button>
        </div>
    </div>

    <!-- æ©Ÿå°åˆ—è¡¨ - åªæœ‰é€²å…¥æŒ‰éˆ•ï¼Œæ²’æœ‰æ„›å¿ƒ -->
    <main class="flex-1 px-4 pb-24 overflow-y-auto scrollbar-thin main-content" id="machineList">
        
        <!-- æ–°æ©Ÿå…¥æ›¿å€å¡Š -->
        <div class="category-section" data-category="æ–°æ©Ÿ">
            <h2 class="category-title"><i class="fa fa-star text-secondary"></i> æ–°æ©Ÿå…¥æ›¿ <span class="text-xs text-gray-400 ml-2">å…±6æ¬¾</span></h2>
            
            <!-- æ»‘å‹•æ¨¡å¼ (ç”¨æ–¼ã€Œå…¨éƒ¨ã€æ¨™ç±¤) -->
            <div class="slider-container new-slider-mode">
                <div class="slider-arrow left" id="newPrev"><i class="fa fa-chevron-left"></i></div>
                <div class="slider-arrow right" id="newNext"><i class="fa fa-chevron-right"></i></div>
                
                <div class="slider-wrapper" id="newWrapper">
                    <!-- ç”²è³€å¿æ³•å¸– å¼ -->
                    <div class="slider-item">
                        <div class="game-card-bg" data-categories='["æ–°æ©Ÿ","äººæ°£æ©Ÿå°","6è™Ÿæ©Ÿ"]'>
                            <div class="new-machine-badge"><img src="https://4boom.jp/blog/wp-content/uploads/2019/08/shin_aut-3_y-240x89.png" alt="æ–°æ©Ÿå…¥æ›¿" class="w-20 h-auto"></div>
                            <span class="popular-badge">HOT 2</span>
                            <img src="https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png" class="w-full h-28 object-cover">
                            <div class="p-2">
                                <h3 class="text-primary text-sm truncate">ç”²è³€å¿æ³•å¸– å¼</h3>
                                <div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=2</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Sammy</span></div>
                                <div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="ç”²è³€å¿æ³•å¸– å¼">é€²å…¥</button></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- è¶…ç´šå¥‡è¹Ÿå°ä¸‘ -->
                    <div class="slider-item">
                        <div class="game-card-bg" data-categories='["æ–°æ©Ÿ","äººæ°£æ©Ÿå°"]'>
                            <div class="new-machine-badge"><img src="https://4boom.jp/blog/wp-content/uploads/2019/08/shin_aut-3_y-240x89.png" alt="æ–°æ©Ÿå…¥æ›¿" class="w-20 h-auto"></div>
                            <span class="popular-badge">HOT 5</span>
                            <img src="https://static.wixstatic.com/media/d5e540_1c6cd7d36cc24e47a6b359a1abeb3923~mv2.png" class="w-full h-28 object-cover">
                            <div class="p-2">
                                <h3 class="text-primary text-sm truncate">è¶…ç´šå¥‡è¹Ÿå°ä¸‘</h3>
                                <div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=1</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Olympia</span></div>
                                <div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="è¶…ç´šå¥‡è¹Ÿå°ä¸‘">é€²å…¥</button></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- æŠ¼å¿ï¼ç•ªé•·4 -->
                    <div class="slider-item">
                        <div class="game-card-bg" data-categories='["æ–°æ©Ÿ","äººæ°£æ©Ÿå°"]'>
                            <div class="new-machine-badge"><img src="https://4boom.jp/blog/wp-content/uploads/2019/08/shin_aut-3_y-240x89.png" alt="æ–°æ©Ÿå…¥æ›¿" class="w-20 h-auto"></div>
                            <span class="popular-badge">HOT 1</span>
                            <img src="https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png" class="w-full h-28 object-cover">
                            <div class="p-2">
                                <h3 class="text-primary text-sm truncate">æŠ¼å¿ï¼ç•ªé•·4</h3>
                                <div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.5</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Daito</span></div>
                                <div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="æŠ¼å¿ï¼ç•ªé•·4">é€²å…¥</button></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- é©å‘½æ©Ÿãƒ´ã‚¡ãƒ«ãƒ´ãƒ¬ã‚¤ãƒ´ -->
                    <div class="slider-item">
                        <div class="game-card-bg" data-categories='["æ–°æ©Ÿ","6è™Ÿæ©Ÿ"]'>
                            <div class="new-machine-badge"><img src="https://4boom.jp/blog/wp-content/uploads/2019/08/shin_aut-3_y-240x89.png" alt="æ–°æ©Ÿå…¥æ›¿" class="w-20 h-auto"></div>
                            <img src="https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png" class="w-full h-28 object-cover">
                            <div class="p-2">
                                <h3 class="text-primary text-sm truncate">é©å‘½æ©Ÿãƒ´ã‚¡ãƒ«ãƒ´ãƒ¬ã‚¤ãƒ´</h3>
                                <div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.33</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Sammy</span></div>
                                <div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="é©å‘½æ©Ÿãƒ´ã‚¡ãƒ«ãƒ´ãƒ¬ã‚¤ãƒ´">é€²å…¥</button></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ãƒ‘ãƒã‚¹ãƒ­ å¹¼å¥³æˆ¦è¨˜ -->
                    <div class="slider-item">
                        <div class="game-card-bg" data-categories='["æ–°æ©Ÿ","6è™Ÿæ©Ÿ"]'>
                            <div class="new-machine-badge"><img src="https://4boom.jp/blog/wp-content/uploads/2019/08/shin_aut-3_y-240x89.png" alt="æ–°æ©Ÿå…¥æ›¿" class="w-20 h-auto"></div>
                            <img src="https://static.wixstatic.com/media/d5e540_1c6cd7d36cc24e47a6b359a1abeb3923~mv2.png" class="w-full h-28 object-cover">
                            <div class="p-2">
                                <h3 class="text-primary text-sm truncate">ãƒ‘ãƒã‚¹ãƒ­ å¹¼å¥³æˆ¦è¨˜</h3>
                                <div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.25</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Rodeo</span></div>
                                <div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="ãƒ‘ãƒã‚¹ãƒ­ å¹¼å¥³æˆ¦è¨˜">é€²å…¥</button></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- L çŠ¬å¤œå‰ -->
                    <div class="slider-item">
                        <div class="game-card-bg" data-categories='["æ–°æ©Ÿ","6è™Ÿæ©Ÿ"]'>
                            <div class="new-machine-badge"><img src="https://4boom.jp/blog/wp-content/uploads/2019/08/shin_aut-3_y-240x89.png" alt="æ–°æ©Ÿå…¥æ›¿" class="w-20 h-auto"></div>
                            <img src="https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png" class="w-full h-28 object-cover">
                            <div class="p-2">
                                <h3 class="text-primary text-sm truncate">L çŠ¬å¤œå‰</h3>
                                <div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.2</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Olympia</span></div>
                                <div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="L çŠ¬å¤œå‰">é€²å…¥</button></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="slider-indicator" id="newDots">
                    <span class="slider-dot active" data-index="0"></span>
                    <span class="slider-dot" data-index="1"></span>
                    <span class="slider-dot" data-index="2"></span>
                </div>
            </div>
            
            <!-- å‚ç›´æ¨¡å¼ (ç”¨æ–¼ã€Œæ–°æ©Ÿã€æ¨™ç±¤) -->
            <div class="vertical-grid new-vertical-mode" style="display: none;">
                <div class="game-card-bg" data-categories='["æ–°æ©Ÿ","äººæ°£æ©Ÿå°","6è™Ÿæ©Ÿ"]'><div class="new-machine-badge"><img src="https://4boom.jp/blog/wp-content/uploads/2019/08/shin_aut-3_y-240x89.png" alt="æ–°æ©Ÿå…¥æ›¿" class="w-20 h-auto"></div><span class="popular-badge">HOT 2</span><img src="https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">ç”²è³€å¿æ³•å¸– å¼</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=2</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Sammy</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="ç”²è³€å¿æ³•å¸– å¼">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["æ–°æ©Ÿ","äººæ°£æ©Ÿå°"]'><div class="new-machine-badge"><img src="https://4boom.jp/blog/wp-content/uploads/2019/08/shin_aut-3_y-240x89.png" alt="æ–°æ©Ÿå…¥æ›¿" class="w-20 h-auto"></div><span class="popular-badge">HOT 5</span><img src="https://static.wixstatic.com/media/d5e540_1c6cd7d36cc24e47a6b359a1abeb3923~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">è¶…ç´šå¥‡è¹Ÿå°ä¸‘</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=1</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Olympia</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="è¶…ç´šå¥‡è¹Ÿå°ä¸‘">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["æ–°æ©Ÿ","äººæ°£æ©Ÿå°"]'><div class="new-machine-badge"><img src="https://4boom.jp/blog/wp-content/uploads/2019/08/shin_aut-3_y-240x89.png" alt="æ–°æ©Ÿå…¥æ›¿" class="w-20 h-auto"></div><span class="popular-badge">HOT 1</span><img src="https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">æŠ¼å¿ï¼ç•ªé•·4</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.5</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Daito</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="æŠ¼å¿ï¼ç•ªé•·4">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["æ–°æ©Ÿ","6è™Ÿæ©Ÿ"]'><div class="new-machine-badge"><img src="https://4boom.jp/blog/wp-content/uploads/2019/08/shin_aut-3_y-240x89.png" alt="æ–°æ©Ÿå…¥æ›¿" class="w-20 h-auto"></div><img src="https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">é©å‘½æ©Ÿãƒ´ã‚¡ãƒ«ãƒ´ãƒ¬ã‚¤ãƒ´</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.33</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Sammy</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="é©å‘½æ©Ÿãƒ´ã‚¡ãƒ«ãƒ´ãƒ¬ã‚¤ãƒ´">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["æ–°æ©Ÿ","6è™Ÿæ©Ÿ"]'><div class="new-machine-badge"><img src="https://4boom.jp/blog/wp-content/uploads/2019/08/shin_aut-3_y-240x89.png" alt="æ–°æ©Ÿå…¥æ›¿" class="w-20 h-auto"></div><img src="https://static.wixstatic.com/media/d5e540_1c6cd7d36cc24e47a6b359a1abeb3923~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">ãƒ‘ãƒã‚¹ãƒ­ å¹¼å¥³æˆ¦è¨˜</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.25</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Rodeo</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="ãƒ‘ãƒã‚¹ãƒ­ å¹¼å¥³æˆ¦è¨˜">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["æ–°æ©Ÿ","6è™Ÿæ©Ÿ"]'><div class="new-machine-badge"><img src="https://4boom.jp/blog/wp-content/uploads/2019/08/shin_aut-3_y-240x89.png" alt="æ–°æ©Ÿå…¥æ›¿" class="w-20 h-auto"></div><img src="https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">L çŠ¬å¤œå‰</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.2</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Olympia</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="L çŠ¬å¤œå‰">é€²å…¥</button></div></div></div>
            </div>
        </div>

        <!-- äººæ°£æ©Ÿå°å€å¡Š -->
        <div class="category-section" data-category="äººæ°£æ©Ÿå°">
            <h2 class="category-title"><i class="fa fa-fire text-secondary"></i> äººæ°£æ©Ÿå° <span class="text-xs text-gray-400 ml-2">ğŸ”¥ æœ¬é€±ç†±é–€</span></h2>
            <div class="vertical-grid">
                <div class="game-card-bg" data-categories='["äººæ°£æ©Ÿå°","4è™Ÿæ©Ÿ"]'><span class="popular-badge">HOT 3</span><img src="https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">å‰å®—</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.5</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Daito</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="å‰å®—">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["äººæ°£æ©Ÿå°","5è™Ÿæ©Ÿ"]'><span class="popular-badge">HOT 4</span><img src="https://static.wixstatic.com/media/d5e540_1c6cd7d36cc24e47a6b359a1abeb3923~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">ãƒ‘ãƒã‚¹ãƒ­ ãƒ¢ãƒ³ã‚­ãƒ¼ã‚¿ãƒ¼ãƒ³</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.25</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Rodeo</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="ãƒ‘ãƒã‚¹ãƒ­ ãƒ¢ãƒ³ã‚­ãƒ¼ã‚¿ãƒ¼ãƒ³">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["äººæ°£æ©Ÿå°","5è™Ÿæ©Ÿ"]'><span class="popular-badge">HOT 6</span><img src="https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">æŠ¼å¿ï¼ç•ªé•·3</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.2</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Daito</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="æŠ¼å¿ï¼ç•ªé•·3">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["äººæ°£æ©Ÿå°","5è™Ÿæ©Ÿ"]'><span class="popular-badge">HOT 7</span><img src="https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">ãƒ‘ãƒã‚¹ãƒ­ ã‚¬ãƒ¼ãƒ«ã‚ºï¼†ãƒ‘ãƒ³ãƒ„ã‚¡ãƒ¼</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.17</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Sammy</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="ãƒ‘ãƒã‚¹ãƒ­ ã‚¬ãƒ¼ãƒ«ã‚ºï¼†ãƒ‘ãƒ³ãƒ„ã‚¡ãƒ¼">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["äººæ°£æ©Ÿå°","6è™Ÿæ©Ÿ"]'><span class="popular-badge">HOT 8</span><img src="https://static.wixstatic.com/media/d5e540_1c6cd7d36cc24e47a6b359a1abeb3923~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">ãƒ‘ãƒã‚¹ãƒ­ åŒ—æ–—ã®æ‹³</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.1</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Sammy</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="ãƒ‘ãƒã‚¹ãƒ­ åŒ—æ–—ã®æ‹³">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["äººæ°£æ©Ÿå°","5è™Ÿæ©Ÿ"]'><span class="popular-badge">HOT 9</span><img src="https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">ãƒ‘ãƒã‚¹ãƒ­ æ–°é¬¼æ­¦è€…</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=2</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Daito</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="ãƒ‘ãƒã‚¹ãƒ­ æ–°é¬¼æ­¦è€…">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["äººæ°£æ©Ÿå°","6è™Ÿæ©Ÿ"]'><span class="popular-badge">HOT 10</span><img src="https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">ãƒ‘ãƒã‚¹ãƒ­ é­”æ³•å°‘å¥³ã¾ã©ã‹â˜†ãƒã‚®ã‚«</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=1</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Rodeo</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="ãƒ‘ãƒã‚¹ãƒ­ é­”æ³•å°‘å¥³ã¾ã©ã‹â˜†ãƒã‚®ã‚«">é€²å…¥</button></div></div></div>
            </div>
        </div>

        <!-- 4è™Ÿæ©Ÿå€å¡Š -->
        <div class="category-section" data-category="4è™Ÿæ©Ÿ">
            <h2 class="category-title"><i class="fa fa-cube"></i> 4è™Ÿæ©Ÿ <span class="text-xs text-gray-400 ml-2">ç¶“å…¸ä¸æ•—</span></h2>
            <div class="vertical-grid">
                <div class="game-card-bg" data-categories='["4è™Ÿæ©Ÿ"]'><img src="https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">èŠ±æœˆ</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.2</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Olympia</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="èŠ±æœˆ">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["4è™Ÿæ©Ÿ"]'><img src="https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">å¤§èŠ±ç«</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.17</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Olympia</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="å¤§èŠ±ç«">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["4è™Ÿæ©Ÿ"]'><img src="https://static.wixstatic.com/media/d5e540_1c6cd7d36cc24e47a6b359a1abeb3923~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">ãƒ‰ãƒ³ã¡ã‚ƒã‚“2</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.1</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Rodeo</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="ãƒ‰ãƒ³ã¡ã‚ƒã‚“2">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["4è™Ÿæ©Ÿ"]'><img src="https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">ã‚¢ãƒ©ã‚¸ãƒ³A</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=2</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Sammy</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="ã‚¢ãƒ©ã‚¸ãƒ³A">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["4è™Ÿæ©Ÿ"]'><img src="https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">ã‚¯ãƒ©ãƒ³ã‚­ãƒ¼ã‚³ãƒ³ãƒ‰ãƒ«</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=1</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Sammy</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="ã‚¯ãƒ©ãƒ³ã‚­ãƒ¼ã‚³ãƒ³ãƒ‰ãƒ«">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["4è™Ÿæ©Ÿ"]'><img src="https://static.wixstatic.com/media/d5e540_1c6cd7d36cc24e47a6b359a1abeb3923~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">ãƒãƒ¼ã‚µã‚¹</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.5</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Daito</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="ãƒãƒ¼ã‚µã‚¹">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["4è™Ÿæ©Ÿ"]'><img src="https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">ãƒ‹ãƒ¥ãƒ¼ãƒ‘ãƒ«ã‚µãƒ¼</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.33</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Olympia</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="ãƒ‹ãƒ¥ãƒ¼ãƒ‘ãƒ«ã‚µãƒ¼">é€²å…¥</button></div></div></div>
            </div>
        </div>

        <!-- 5è™Ÿæ©Ÿå€å¡Š -->
        <div class="category-section" data-category="5è™Ÿæ©Ÿ">
            <h2 class="category-title"><i class="fa fa-cube"></i> 5è™Ÿæ©Ÿ <span class="text-xs text-gray-400 ml-2">ä¸»æµæ©Ÿç¨®</span></h2>
            <div class="vertical-grid">
                <div class="game-card-bg" data-categories='["5è™Ÿæ©Ÿ"]'><img src="https://static.wixstatic.com/media/d5e540_1c6cd7d36cc24e47a6b359a1abeb3923~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">å¥‡è¹Ÿå°ä¸‘</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.17</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Rodeo</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="å¥‡è¹Ÿå°ä¸‘">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["5è™Ÿæ©Ÿ"]'><img src="https://static.wixstatic.com/media/d5e540_1c6cd7d36cc24e47a6b359a1abeb3923~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">è¶…ç´šå¥‡è¹Ÿ</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.1</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Olympia</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="è¶…ç´šå¥‡è¹Ÿ">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["5è™Ÿæ©Ÿ"]'><img src="https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">ãƒã‚¸ãƒªã‚¹ã‚¯ã€œç”²è³€å¿æ³•å¸–ã€œ</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.25</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Sammy</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="ãƒã‚¸ãƒªã‚¹ã‚¯ã€œç”²è³€å¿æ³•å¸–ã€œ">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["5è™Ÿæ©Ÿ"]'><img src="https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">ãƒ‘ãƒã‚¹ãƒ­ ã‚¨ã‚¦ãƒ¬ã‚«ã‚»ãƒ–ãƒ³</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.33</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Rodeo</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="ãƒ‘ãƒã‚¹ãƒ­ ã‚¨ã‚¦ãƒ¬ã‚«ã‚»ãƒ–ãƒ³">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["5è™Ÿæ©Ÿ"]'><img src="https://static.wixstatic.com/media/d5e540_1c6cd7d36cc24e47a6b359a1abeb3923~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">ãƒ‘ãƒã‚¹ãƒ­ ã‚³ãƒ¼ãƒ‰ã‚®ã‚¢ã‚¹</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.5</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Sammy</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="ãƒ‘ãƒã‚¹ãƒ­ ã‚³ãƒ¼ãƒ‰ã‚®ã‚¢ã‚¹">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["5è™Ÿæ©Ÿ"]'><img src="https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">ãƒ‘ãƒã‚¹ãƒ­ æˆ¦å›½ç„¡åŒ</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=1</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Daito</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="ãƒ‘ãƒã‚¹ãƒ­ æˆ¦å›½ç„¡åŒ">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["5è™Ÿæ©Ÿ"]'><img src="https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">ãƒ‘ãƒã‚¹ãƒ­ è’¼å¤©ã®æ‹³</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=2</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Olympia</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="ãƒ‘ãƒã‚¹ãƒ­ è’¼å¤©ã®æ‹³">é€²å…¥</button></div></div></div>
            </div>
        </div>

        <!-- 6è™Ÿæ©Ÿå€å¡Š -->
        <div class="category-section" data-category="6è™Ÿæ©Ÿ">
            <h2 class="category-title"><i class="fa fa-cube"></i> 6è™Ÿæ©Ÿ <span class="text-xs text-gray-400 ml-2">æœ€æ–°éŠ³</span></h2>
            <div class="vertical-grid">
                <div class="game-card-bg" data-categories='["6è™Ÿæ©Ÿ"]'><img src="https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">æ–°ç”²è³€</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=1</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Sammy</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="æ–°ç”²è³€">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["6è™Ÿæ©Ÿ"]'><img src="https://static.wixstatic.com/media/d5e540_1c6cd7d36cc24e47a6b359a1abeb3923~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">ãƒ‘ãƒã‚¹ãƒ­ ã‚´ãƒƒãƒ‰ã‚¤ãƒ¼ã‚¿ãƒ¼</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.5</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Rodeo</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="ãƒ‘ãƒã‚¹ãƒ­ ã‚´ãƒƒãƒ‰ã‚¤ãƒ¼ã‚¿ãƒ¼">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["6è™Ÿæ©Ÿ"]'><img src="https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">ãƒ‘ãƒã‚¹ãƒ­ ãƒ€ãƒ³ã¾ã¡</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.33</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Daito</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="ãƒ‘ãƒã‚¹ãƒ­ ãƒ€ãƒ³ã¾ã¡">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["6è™Ÿæ©Ÿ"]'><img src="https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">L è–æˆ¦å£«ãƒ€ãƒ³ãƒã‚¤ãƒ³</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.25</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Sammy</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="L è–æˆ¦å£«ãƒ€ãƒ³ãƒã‚¤ãƒ³">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["6è™Ÿæ©Ÿ"]'><img src="https://static.wixstatic.com/media/d5e540_1c6cd7d36cc24e47a6b359a1abeb3923~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">ãƒ‘ãƒã‚¹ãƒ­ ã‚ã‚Šãµã‚ŒãŸ</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.2</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Olympia</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="ãƒ‘ãƒã‚¹ãƒ­ ã‚ã‚Šãµã‚ŒãŸ">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["6è™Ÿæ©Ÿ"]'><img src="https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">ãƒ‘ãƒã‚¹ãƒ­ è»¢ã‚¹ãƒ©</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.17</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Rodeo</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="ãƒ‘ãƒã‚¹ãƒ­ è»¢ã‚¹ãƒ©">é€²å…¥</button></div></div></div>
                <div class="game-card-bg" data-categories='["6è™Ÿæ©Ÿ"]'><img src="https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png" class="w-full h-28 object-cover"><div class="p-2"><h3 class="text-primary text-sm truncate">ãƒ‘ãƒã‚¹ãƒ­ ã“ã®ã™ã°</h3><div class="flex items-center gap-1 mt-1"><span class="token-badge">1æš=0.1</span><span class="bg-blue-900/50 px-1.5 py-0.5 rounded text-xs">Daito</span></div><div class="flex gap-1 mt-2"><button class="enter-btn" data-action="enter" data-machine="ãƒ‘ãƒã‚¹ãƒ­ ã“ã®ã™ã°">é€²å…¥</button></div></div></div>
            </div>
        </div>
    </main>
</div>

<!-- åº•éƒ¨å°èˆª -->
<nav class="bottom-nav">
    <div class="flex justify-between items-center">
        <a href="index.html" class="nav-item" id="nav-home"><i class="fa fa-home text-xl"></i><span class="text-xs mt-1">é¦–é </span></a>
        <a href="machines.html" class="nav-item" id="nav-game"><i class="fa fa-gamepad text-xl"></i><span class="text-xs mt-1">æ©Ÿå°</span></a>
        <a href="news.html" class="nav-item" id="nav-bell"><i class="fa fa-bell text-xl"></i><span class="text-xs mt-1">å…¬å‘Š</span><span class="nav-badge" id="newsBadge"></span></a>
        <a href="about.html" class="nav-item" id="nav-user"><i class="fa fa-user text-xl"></i><span class="text-xs mt-1">æˆ‘çš„</span></a>
    </div>
</nav>

<!-- æµ®å‹•å›åˆ°é ‚éƒ¨æŒ‰éˆ• -->
<div class="back-to-top" id="backToTop"><i class="fa fa-arrow-up"></i></div>

<!-- å­æ©Ÿç¨®å½ˆçª— -->
<div class="machine-modal" id="machineModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 id="modalMachineName">å‰å®—</h2>
            <span class="modal-close" id="modalCloseBtn"><i class="fa fa-times"></i></span>
        </div>
        <div id="modalSubmachineList" class="submachine-grid"></div>
    </div>
</div>

<script>
(function() {
    // ========== æˆ‘çš„æœ€æ„›åŠŸèƒ½ (èˆ‡ machines.html åŒæ­¥) ==========
    let favoriteMachines = JSON.parse(localStorage.getItem('favoriteMachines')) || [];
    
    // åˆå§‹åŒ–æ”¶è—è³‡æ–™ï¼ˆå¦‚æœç‚ºç©ºï¼‰
    if (favoriteMachines.length === 0) {
        favoriteMachines = [
            { id: 1, name: 'ç”²è³€å¿æ³•å¸– å¼', image: 'https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png', ratio: '1æš=2', vendor: 'Sammy' },
            { id: 2, name: 'è¶…ç´šå¥‡è¹Ÿå°ä¸‘', image: 'https://static.wixstatic.com/media/d5e540_1c6cd7d36cc24e47a6b359a1abeb3923~mv2.png', ratio: '1æš=1', vendor: 'Olympia' }
        ];
        localStorage.setItem('favoriteMachines', JSON.stringify(favoriteMachines));
    }
    
    function saveFavorites() {
        localStorage.setItem('favoriteMachines', JSON.stringify(favoriteMachines));
    }
    
    function toggleFavorite(machine) {
        const index = favoriteMachines.findIndex(m => m.id === machine.id);
        if (index === -1) {
            favoriteMachines.push(machine);
        } else {
            favoriteMachines.splice(index, 1);
        }
        saveFavorites();
    }
    
    // æ©Ÿå°åç¨±å°æ‡‰IDçš„æ˜ å°„
    function getMachineByName(name) {
        const machineMap = {
            'ç”²è³€å¿æ³•å¸– å¼': { id: 1, name: 'ç”²è³€å¿æ³•å¸– å¼', image: 'https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png', ratio: '1æš=2', vendor: 'Sammy' },
            'è¶…ç´šå¥‡è¹Ÿå°ä¸‘': { id: 2, name: 'è¶…ç´šå¥‡è¹Ÿå°ä¸‘', image: 'https://static.wixstatic.com/media/d5e540_1c6cd7d36cc24e47a6b359a1abeb3923~mv2.png', ratio: '1æš=1', vendor: 'Olympia' },
            'å‰å®—': { id: 3, name: 'å‰å®—', image: 'https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png', ratio: '1æš=2', vendor: 'Daito' },
            'ç”²è³€å¿æ³•å¸–': { id: 4, name: 'ç”²è³€å¿æ³•å¸–', image: 'https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png', ratio: '1æš=0.25', vendor: 'Sammy' },
            'å‰å®—(4è™Ÿ)': { id: 5, name: 'å‰å®—(4è™Ÿ)', image: 'https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png', ratio: '1æš=2', vendor: 'Daito' },
            'èŠ±æœˆ': { id: 6, name: 'èŠ±æœˆ', image: 'https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png', ratio: '1æš=0.25', vendor: 'Olympia' },
            'å¥‡è¹Ÿå°ä¸‘': { id: 7, name: 'å¥‡è¹Ÿå°ä¸‘', image: 'https://static.wixstatic.com/media/d5e540_1c6cd7d36cc24e47a6b359a1abeb3923~mv2.png', ratio: '1æš=0.2', vendor: 'Rodeo' },
            'è¶…ç´šå¥‡è¹Ÿ': { id: 8, name: 'è¶…ç´šå¥‡è¹Ÿ', image: 'https://static.wixstatic.com/media/d5e540_1c6cd7d36cc24e47a6b359a1abeb3923~mv2.png', ratio: '1æš=1', vendor: 'Olympia' },
            'æ–°ç”²è³€': { id: 9, name: 'æ–°ç”²è³€', image: 'https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png', ratio: '1æš=0.25', vendor: 'Sammy' },
            'æŠ¼å¿ï¼ç•ªé•·4': { id: 10, name: 'æŠ¼å¿ï¼ç•ªé•·4', image: 'https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png', ratio: '1æš=0.5', vendor: 'Daito' },
            'é©å‘½æ©Ÿãƒ´ã‚¡ãƒ«ãƒ´ãƒ¬ã‚¤ãƒ´': { id: 11, name: 'é©å‘½æ©Ÿãƒ´ã‚¡ãƒ«ãƒ´ãƒ¬ã‚¤ãƒ´', image: 'https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png', ratio: '1æš=0.33', vendor: 'Sammy' },
            'ãƒ‘ãƒã‚¹ãƒ­ å¹¼å¥³æˆ¦è¨˜': { id: 12, name: 'ãƒ‘ãƒã‚¹ãƒ­ å¹¼å¥³æˆ¦è¨˜', image: 'https://static.wixstatic.com/media/d5e540_1c6cd7d36cc24e47a6b359a1abeb3923~mv2.png', ratio: '1æš=0.25', vendor: 'Rodeo' },
            'L çŠ¬å¤œå‰': { id: 13, name: 'L çŠ¬å¤œå‰', image: 'https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png', ratio: '1æš=0.2', vendor: 'Olympia' },
            'å¤§èŠ±ç«': { id: 14, name: 'å¤§èŠ±ç«', image: 'https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png', ratio: '1æš=0.17', vendor: 'Olympia' },
            'ãƒ‰ãƒ³ã¡ã‚ƒã‚“2': { id: 15, name: 'ãƒ‰ãƒ³ã¡ã‚ƒã‚“2', image: 'https://static.wixstatic.com/media/d5e540_1c6cd7d36cc24e47a6b359a1abeb3923~mv2.png', ratio: '1æš=0.1', vendor: 'Rodeo' },
            'ã‚¢ãƒ©ã‚¸ãƒ³A': { id: 16, name: 'ã‚¢ãƒ©ã‚¸ãƒ³A', image: 'https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png', ratio: '1æš=2', vendor: 'Sammy' },
            'ã‚¯ãƒ©ãƒ³ã‚­ãƒ¼ã‚³ãƒ³ãƒ‰ãƒ«': { id: 17, name: 'ã‚¯ãƒ©ãƒ³ã‚­ãƒ¼ã‚³ãƒ³ãƒ‰ãƒ«', image: 'https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png', ratio: '1æš=1', vendor: 'Sammy' },
            'ãƒãƒ¼ã‚µã‚¹': { id: 18, name: 'ãƒãƒ¼ã‚µã‚¹', image: 'https://static.wixstatic.com/media/d5e540_1c6cd7d36cc24e47a6b359a1abeb3923~mv2.png', ratio: '1æš=0.5', vendor: 'Daito' },
            'ãƒ‹ãƒ¥ãƒ¼ãƒ‘ãƒ«ã‚µãƒ¼': { id: 19, name: 'ãƒ‹ãƒ¥ãƒ¼ãƒ‘ãƒ«ã‚µãƒ¼', image: 'https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png', ratio: '1æš=0.33', vendor: 'Olympia' },
            'ãƒ‘ãƒã‚¹ãƒ­ ãƒ¢ãƒ³ã‚­ãƒ¼ã‚¿ãƒ¼ãƒ³': { id: 20, name: 'ãƒ‘ãƒã‚¹ãƒ­ ãƒ¢ãƒ³ã‚­ãƒ¼ã‚¿ãƒ¼ãƒ³', image: 'https://static.wixstatic.com/media/d5e540_1c6cd7d36cc24e47a6b359a1abeb3923~mv2.png', ratio: '1æš=0.25', vendor: 'Rodeo' },
            'æŠ¼å¿ï¼ç•ªé•·3': { id: 21, name: 'æŠ¼å¿ï¼ç•ªé•·3', image: 'https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png', ratio: '1æš=0.2', vendor: 'Daito' },
            'ãƒ‘ãƒã‚¹ãƒ­ ã‚¬ãƒ¼ãƒ«ã‚ºï¼†ãƒ‘ãƒ³ãƒ„ã‚¡ãƒ¼': { id: 22, name: 'ãƒ‘ãƒã‚¹ãƒ­ ã‚¬ãƒ¼ãƒ«ã‚ºï¼†ãƒ‘ãƒ³ãƒ„ã‚¡ãƒ¼', image: 'https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png', ratio: '1æš=0.17', vendor: 'Sammy' },
            'ãƒ‘ãƒã‚¹ãƒ­ åŒ—æ–—ã®æ‹³': { id: 23, name: 'ãƒ‘ãƒã‚¹ãƒ­ åŒ—æ–—ã®æ‹³', image: 'https://static.wixstatic.com/media/d5e540_1c6cd7d36cc24e47a6b359a1abeb3923~mv2.png', ratio: '1æš=0.1', vendor: 'Sammy' },
            'ãƒ‘ãƒã‚¹ãƒ­ æ–°é¬¼æ­¦è€…': { id: 24, name: 'ãƒ‘ãƒã‚¹ãƒ­ æ–°é¬¼æ­¦è€…', image: 'https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png', ratio: '1æš=2', vendor: 'Daito' },
            'ãƒ‘ãƒã‚¹ãƒ­ é­”æ³•å°‘å¥³ã¾ã©ã‹â˜†ãƒã‚®ã‚«': { id: 25, name: 'ãƒ‘ãƒã‚¹ãƒ­ é­”æ³•å°‘å¥³ã¾ã©ã‹â˜†ãƒã‚®ã‚«', image: 'https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png', ratio: '1æš=1', vendor: 'Rodeo' },
            'ãƒã‚¸ãƒªã‚¹ã‚¯ã€œç”²è³€å¿æ³•å¸–ã€œ': { id: 26, name: 'ãƒã‚¸ãƒªã‚¹ã‚¯ã€œç”²è³€å¿æ³•å¸–ã€œ', image: 'https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png', ratio: '1æš=0.25', vendor: 'Sammy' },
            'ãƒ‘ãƒã‚¹ãƒ­ ã‚¨ã‚¦ãƒ¬ã‚«ã‚»ãƒ–ãƒ³': { id: 27, name: 'ãƒ‘ãƒã‚¹ãƒ­ ã‚¨ã‚¦ãƒ¬ã‚«ã‚»ãƒ–ãƒ³', image: 'https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png', ratio: '1æš=0.33', vendor: 'Rodeo' },
            'ãƒ‘ãƒã‚¹ãƒ­ ã‚³ãƒ¼ãƒ‰ã‚®ã‚¢ã‚¹': { id: 28, name: 'ãƒ‘ãƒã‚¹ãƒ­ ã‚³ãƒ¼ãƒ‰ã‚®ã‚¢ã‚¹', image: 'https://static.wixstatic.com/media/d5e540_1c6cd7d36cc24e47a6b359a1abeb3923~mv2.png', ratio: '1æš=0.5', vendor: 'Sammy' },
            'ãƒ‘ãƒã‚¹ãƒ­ æˆ¦å›½ç„¡åŒ': { id: 29, name: 'ãƒ‘ãƒã‚¹ãƒ­ æˆ¦å›½ç„¡åŒ', image: 'https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png', ratio: '1æš=1', vendor: 'Daito' },
            'ãƒ‘ãƒã‚¹ãƒ­ è’¼å¤©ã®æ‹³': { id: 30, name: 'ãƒ‘ãƒã‚¹ãƒ­ è’¼å¤©ã®æ‹³', image: 'https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png', ratio: '1æš=2', vendor: 'Olympia' },
            'ãƒ‘ãƒã‚¹ãƒ­ ã‚´ãƒƒãƒ‰ã‚¤ãƒ¼ã‚¿ãƒ¼': { id: 31, name: 'ãƒ‘ãƒã‚¹ãƒ­ ã‚´ãƒƒãƒ‰ã‚¤ãƒ¼ã‚¿ãƒ¼', image: 'https://static.wixstatic.com/media/d5e540_1c6cd7d36cc24e47a6b359a1abeb3923~mv2.png', ratio: '1æš=0.5', vendor: 'Rodeo' },
            'ãƒ‘ãƒã‚¹ãƒ­ ãƒ€ãƒ³ã¾ã¡': { id: 32, name: 'ãƒ‘ãƒã‚¹ãƒ­ ãƒ€ãƒ³ã¾ã¡', image: 'https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png', ratio: '1æš=0.33', vendor: 'Daito' },
            'L è–æˆ¦å£«ãƒ€ãƒ³ãƒã‚¤ãƒ³': { id: 33, name: 'L è–æˆ¦å£«ãƒ€ãƒ³ãƒã‚¤ãƒ³', image: 'https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png', ratio: '1æš=0.25', vendor: 'Sammy' },
            'ãƒ‘ãƒã‚¹ãƒ­ ã‚ã‚Šãµã‚ŒãŸ': { id: 34, name: 'ãƒ‘ãƒã‚¹ãƒ­ ã‚ã‚Šãµã‚ŒãŸ', image: 'https://static.wixstatic.com/media/d5e540_1c6cd7d36cc24e47a6b359a1abeb3923~mv2.png', ratio: '1æš=0.2', vendor: 'Olympia' },
            'ãƒ‘ãƒã‚¹ãƒ­ è»¢ã‚¹ãƒ©': { id: 35, name: 'ãƒ‘ãƒã‚¹ãƒ­ è»¢ã‚¹ãƒ©', image: 'https://static.wixstatic.com/media/d5e540_0926089e3da443eebe6bc2ede58f5788~mv2.png', ratio: '1æš=0.17', vendor: 'Rodeo' },
            'ãƒ‘ãƒã‚¹ãƒ­ ã“ã®ã™ã°': { id: 36, name: 'ãƒ‘ãƒã‚¹ãƒ­ ã“ã®ã™ã°', image: 'https://static.wixstatic.com/media/d5e540_e7da9c3f1fb24a2aa9ef8d180a2cf6fa~mv2.png', ratio: '1æš=0.1', vendor: 'Daito' }
        };
        
        return machineMap[name] || null;
    }
    
    // ç›£è½ storage äº‹ä»¶ï¼ˆè·¨æ¨™ç±¤é åŒæ­¥ï¼‰
    window.addEventListener('storage', function(e) {
        if (e.key === 'favoriteMachines') {
            favoriteMachines = JSON.parse(e.newValue) || [];
        }
    });

    // ========== å­æ©Ÿç¨®è³‡æ–™åº« ==========
    const subMachineDB = {
        'default': [
            { name: 'å¤§ç›¤æŒ¯èˆ', ratio: '2.0' },
            { name: 'å¤§ç›¤æŒ¯èˆ', ratio: '0.33' },
            { name: 'é›™å§¬', ratio: '0.5' },
            { name: 'é›™å§¬', ratio: '0.1' },
            { name: 'çˆº', ratio: '3.0' },
            { name: 'çˆº', ratio: '0.2' }
        ],
        'ç”²è³€å¿æ³•å¸– å¼': [
            { name: 'æœ§', ratio: '2.5' },
            { name: 'ç”²è³€å¼¦ä¹‹ä»‹', ratio: '0.4' },
            { name: 'é™½ç‚', ratio: '0.8' },
            { name: 'å¤œå‰ä¸¸', ratio: '0.12' },
            { name: 'æœ±çµ¹', ratio: '4.0' },
            { name: 'ãŠèƒ¡å¤·', ratio: '0.18' }
        ],
        'è¶…ç´šå¥‡è¹Ÿå°ä¸‘': [
            { name: 'å¥‡è¹Ÿå°ä¸‘', ratio: '1.5' },
            { name: 'å°ä¸‘ç‹', ratio: '0.6' },
            { name: 'ç¬‘é¢å°ä¸‘', ratio: '0.3' },
            { name: 'æ‚²å‚·å°ä¸‘', ratio: '0.15' },
            { name: 'ç˜‹ç‹‚å°ä¸‘', ratio: '2.2' },
            { name: 'å¤¢å¹»å°ä¸‘', ratio: '0.25' }
        ],
        'æŠ¼å¿ï¼ç•ªé•·4': [
            { name: 'ç•ªé•·', ratio: '3.0' },
            { name: 'ç•ªé•·G', ratio: '0.8' },
            { name: 'å‰¯ç•ªé•·', ratio: '0.4' },
            { name: 'ç•ªé•·Z', ratio: '0.2' },
            { name: 'ç•ªé•·F', ratio: '5.0' },
            { name: 'ç•ªé•·æ”¹', ratio: '0.35' }
        ],
        'é©å‘½æ©Ÿãƒ´ã‚¡ãƒ«ãƒ´ãƒ¬ã‚¤ãƒ´': [
            { name: 'æ™‚ç¸ãƒãƒ«ãƒˆ', ratio: '2.8' },
            { name: 'ã‚¨ãƒ«ã‚¨ãƒ«ãƒ•', ratio: '0.45' },
            { name: 'æµæœ¨é‡ã‚µã‚­', ratio: '0.7' },
            { name: 'é€£åŠå°è·¯ã‚¢ã‚­ãƒ©', ratio: '0.15' },
            { name: 'ãƒ´ã‚¡ãƒ«ãƒ´ãƒ¬ã‚¤ãƒ´I', ratio: '4.2' },
            { name: 'ãƒ´ã‚¡ãƒ«ãƒ´ãƒ¬ã‚¤ãƒ´II', ratio: '0.22' }
        ],
        'ãƒ‘ãƒã‚¹ãƒ­ å¹¼å¥³æˆ¦è¨˜': [
            { name: 'ã‚¿ãƒ¼ãƒ‹ãƒ£', ratio: '2.2' },
            { name: 'ãƒ´ã‚£ãƒ¼ã‚·ãƒ£', ratio: '0.38' },
            { name: 'ãƒ¬ãƒ«ã‚²ãƒ³', ratio: '0.6' },
            { name: 'ãƒ‰ãƒ¬ã‚¤ã‚¯', ratio: '0.13' },
            { name: 'ã‚±ãƒ¼ãƒ‹ãƒƒãƒ’', ratio: '3.8' },
            { name: 'ã‚·ãƒ¥ãƒ¼ã‚²ãƒ«', ratio: '0.19' }
        ],
        'L çŠ¬å¤œå‰': [
            { name: 'çŠ¬å¤œå‰', ratio: '2.4' },
            { name: 'ã‹ã”ã‚', ratio: '0.42' },
            { name: 'æ®ºç”Ÿä¸¸', ratio: '0.75' },
            { name: 'å¥ˆè½', ratio: '0.14' },
            { name: 'å¼¥å‹’', ratio: '4.1' },
            { name: 'çŠç‘š', ratio: '0.21' }
        ],
        'å‰å®—': [
            { name: 'æš´ã‚Œã‚“åŠå°†è»', ratio: '2.0' },
            { name: 'å‰å®—S', ratio: '0.33' },
            { name: 'å§«', ratio: '0.5' },
            { name: 'çˆº', ratio: '0.1' },
            { name: 'æš´ã‚Œã‚“åŠ', ratio: '3.0' },
            { name: 'æš´ã‚Œã‚“åŠæ”¹', ratio: '0.2' }
        ],
        'èŠ±æœˆ': [
            { name: 'èŠ±æœˆG', ratio: '2.0' },
            { name: 'èŠ±æœˆS', ratio: '0.33' },
            { name: 'èŠ±æœˆæ”¹', ratio: '0.5' },
            { name: 'èŠ±æœˆZ', ratio: '0.1' },
            { name: 'èŠ±æœˆF', ratio: '3.0' },
            { name: 'èŠ±æœˆX', ratio: '0.2' }
        ],
        'å¥‡è¹Ÿå°ä¸‘': [
            { name: 'å°ä¸‘', ratio: '1.8' },
            { name: 'å°ä¸‘G', ratio: '0.28' },
            { name: 'å°ä¸‘S', ratio: '0.45' },
            { name: 'å°ä¸‘Z', ratio: '0.09' },
            { name: 'å°ä¸‘F', ratio: '2.2' },
            { name: 'å°ä¸‘æ”¹', ratio: '0.16' }
        ],
        'æ–°ç”²è³€': [
            { name: 'ç”²è³€å¼¦ä¹‹ä»‹', ratio: '2.0' },
            { name: 'æœ§', ratio: '0.33' },
            { name: 'é™½ç‚', ratio: '0.5' },
            { name: 'å¤œå‰ä¸¸', ratio: '0.1' },
            { name: 'æœ±çµ¹', ratio: '3.0' },
            { name: 'ãŠèƒ¡å¤·', ratio: '0.2' }
        ]
    };

    // å–å¾—å­æ©Ÿç¨®è³‡æ–™
    function getSubMachines(machineName) {
        if (subMachineDB[machineName]) {
            return subMachineDB[machineName];
        }
        for (let key in subMachineDB) {
            if (machineName.includes(key) || key.includes(machineName)) {
                return subMachineDB[key];
            }
        }
        return subMachineDB['default'];
    }

    // ========== åº•éƒ¨å°èˆªç•¶å‰é é¢æ¨™è¨˜ ==========
    function setCurrentNav() {
        const navItems = document.querySelectorAll('.nav-item');
        navItems.forEach(item => item.classList.remove('current-page'));
        
        const path = window.location.pathname;
        const filename = path.split('/').pop() || 'index.html';
        
        if (filename === 'index.html' || filename === '' || filename === '/') {
            document.getElementById('nav-home')?.classList.add('current-page');
        } else if (filename.includes('machines')) {
            document.getElementById('nav-game')?.classList.add('current-page');
        } else if (filename.includes('news')) {
            document.getElementById('nav-bell')?.classList.add('current-page');
        } else if (filename.includes('about')) {
            document.getElementById('nav-user')?.classList.add('current-page');
        } else {
            document.getElementById('nav-home')?.classList.add('current-page');
        }
    }

    // ========== æ¨™ç±¤åˆ‡æ› ==========
    const tabBtns = document.querySelectorAll('.tab-btn');
    const categorySections = document.querySelectorAll('.category-section');
    
    function filterByCategory(category) {
        categorySections.forEach(section => {
            const cat = section.getAttribute('data-category');
            section.style.display = (category === 'å…¨éƒ¨' || cat === category) ? 'block' : 'none';
        });

        const newSection = document.querySelector('.category-section[data-category="æ–°æ©Ÿ"]');
        if (newSection) {
            const sliderMode = newSection.querySelector('.new-slider-mode');
            const verticalMode = newSection.querySelector('.new-vertical-mode');
            
            if (category === 'å…¨éƒ¨') {
                sliderMode.style.display = 'block';
                verticalMode.style.display = 'none';
            } else if (category === 'æ–°æ©Ÿ') {
                sliderMode.style.display = 'none';
                verticalMode.style.display = 'grid';
            }
        }
    }
    
    tabBtns.forEach((btn, index) => {
        btn.addEventListener('click', function() {
            tabBtns.forEach(b => {
                b.classList.remove('tech-tab-active');
                b.classList.add('bg-dark-200', 'tech-border');
            });
            this.classList.remove('bg-dark-200', 'tech-border');
            this.classList.add('tech-tab-active');
            filterByCategory(this.getAttribute('data-tab'));
        });
    });
    
    filterByCategory('å…¨éƒ¨');
    setCurrentNav();

    // ========== å½ˆçª—æ§åˆ¶ ==========
    const modal = document.getElementById('machineModal');
    const modalTitle = document.getElementById('modalMachineName');
    const modalSubList = document.getElementById('modalSubmachineList');
    const modalClose = document.getElementById('modalCloseBtn');

    function openModal(machineName) {
        modalTitle.innerText = machineName;
        const subList = getSubMachines(machineName);
        
        let html = '';
        subList.forEach(sub => {
            // æª¢æŸ¥é€™å€‹å­æ©Ÿç¨®æ˜¯å¦å·²ç¶“è¢«æ”¶è—
            const machine = getMachineByName(machineName);
            const isFavorite = machine ? favoriteMachines.some(m => m.id === machine.id) : false;
            
            html += `
                <div class="sub-item-card">
                    <div class="sub-name-ratio">
                        <span class="sub-name">${sub.name}</span>
                        <span class="sub-ratio">1æš=${sub.ratio}</span>
                    </div>
                    <div class="sub-actions">
                        <button class="enter-btn sub-enter" data-machine="${machineName}" data-sub="${sub.name}" data-ratio="${sub.ratio}">é€²å…¥</button>
                        <button class="favorite-btn sub-fav ${isFavorite ? 'active' : ''}" data-machine="${machineName}" data-sub="${sub.name}" data-ratio="${sub.ratio}"><i class="fa fa-heart text-xs"></i></button>
                    </div>
                </div>
            `;
        });
        modalSubList.innerHTML = html;
        modal.classList.add('show');
        
        // ç‚ºå­æ©Ÿç¨®çš„æ„›å¿ƒæŒ‰éˆ•æ·»åŠ äº‹ä»¶
        modalSubList.querySelectorAll('.sub-fav').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.stopPropagation();
                
                // å–å¾—ä¸»æ©Ÿå°è³‡è¨Š
                const machineName = this.dataset.machine;
                const machine = getMachineByName(machineName);
                
                if (machine) {
                    toggleFavorite(machine);
                    this.classList.toggle('active');
                }
            });
        });
        
        modalSubList.querySelectorAll('.sub-enter').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.stopPropagation();
                alert(`ğŸš€ é€²å…¥ ${this.dataset.machine} - ${this.dataset.sub} (1æš=${this.dataset.ratio})`);
            });
        });
    }

    function closeModal() {
        modal.classList.remove('show');
    }

    if (modalClose) {
        modalClose.addEventListener('click', closeModal);
    }
    
    modal.addEventListener('click', (e) => {
        if (e.target === modal) closeModal();
    });

    // ========== é»æ“Šã€Œé€²å…¥ã€æŒ‰éˆ•é–‹å­æ©Ÿç¨® ==========
    const enterBtns = document.querySelectorAll('.enter-btn');
    enterBtns.forEach(btn => {
        btn.addEventListener('click', function(e) {
            e.stopPropagation();
            
            // å–å¾—æ©Ÿå°åç¨±
            let machineName = this.dataset.machine;
            if (!machineName) {
                const card = this.closest('.game-card-bg');
                const titleElem = card?.querySelector('h3');
                machineName = titleElem ? titleElem.textContent.trim() : 'æ©Ÿå°';
            }
            
            openModal(machineName);
        });
    });

    // ========== é»æ“Šå¡ç‰‡é–‹å­æ©Ÿç¨® ==========
    const cards = document.querySelectorAll('.game-card-bg');
    cards.forEach(card => {
        card.addEventListener('click', function(e) {
            if (e.target.closest('button')) return;
            
            const titleElem = this.querySelector('h3');
            const machineName = titleElem ? titleElem.textContent.trim() : 'æ©Ÿå°';
            openModal(machineName);
        });
    });

    // ========== å´æ‹‰æ¬„ ==========
    const openBtn = document.getElementById('openDrawerBtn');
    const closeBtn = document.getElementById('closeDrawer');
    const drawer = document.getElementById('filterDrawer');
    const drawerOverlay = document.getElementById('drawerOverlay');
    
    if (openBtn) {
        openBtn.addEventListener('click', () => {
            drawer.classList.add('open');
            drawerOverlay.classList.add('open');
        });
    }
    
    if (closeBtn) {
        closeBtn.addEventListener('click', () => {
            drawer.classList.remove('open');
            drawerOverlay.classList.remove('open');
        });
    }
    
    if (drawerOverlay) {
        drawerOverlay.addEventListener('click', () => {
            drawer.classList.remove('open');
            drawerOverlay.classList.remove('open');
        });
    }

    // ========== æ–°æ©Ÿæ»‘å¡Šåˆå§‹åŒ– ==========
    function initNewSlider() {
        const wrapper = document.getElementById('newWrapper');
        const prev = document.getElementById('newPrev');
        const next = document.getElementById('newNext');
        const dots = document.querySelectorAll('#newDots .slider-dot');
        if (!wrapper || !prev || !next) return;
        
        const itemWidth = 196;
        let currentIndex = 0;
        const maxIndex = Math.max(0, wrapper.children.length - 2);
        
        function updateSlider(index) {
            currentIndex = Math.max(0, Math.min(index, maxIndex));
            wrapper.scrollTo({ left: currentIndex * itemWidth, behavior: 'smooth' });
            prev.classList.toggle('disabled', currentIndex === 0);
            next.classList.toggle('disabled', currentIndex >= maxIndex);
            
            const dotIndex = Math.min(Math.floor(currentIndex / 2), dots.length - 1);
            dots.forEach((dot, i) => {
                dot.classList.toggle('active', i === dotIndex);
            });
        }
        
        prev.addEventListener('click', () => updateSlider(currentIndex - 1));
        next.addEventListener('click', () => updateSlider(currentIndex + 1));
        
        dots.forEach((dot, i) => {
            dot.addEventListener('click', () => {
                updateSlider(i * 2);
            });
        });
        
        wrapper.addEventListener('scroll', () => {
            const index = Math.round(wrapper.scrollLeft / itemWidth);
            prev.classList.toggle('disabled', index === 0);
            next.classList.toggle('disabled', index >= maxIndex);
            
            const dotIndex = Math.min(Math.floor(index / 2), dots.length - 1);
            dots.forEach((dot, i) => {
                dot.classList.toggle('active', i === dotIndex);
            });
        });
        
        updateSlider(0);
    }
    
    initNewSlider();
    
})();
</script>
</body>
</html>
